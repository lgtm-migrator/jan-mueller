import{d as R,t as T,r as b,o as z,a as F,w as $,b as r,c as f,F as M,e as W,n as g,u as w,f as V,g as j,h as E,i as S,j as L,k as N,l as O,m as U}from"./chunks/runtime-core.esm-bundler.4d150fbf.js";import{_ as A}from"./chunks/_plugin-vue_export-helper.1e5d64a6.js";const D=["data-index"],Y=R({__name:"masonry-wall",props:{columnWidth:{default:400},items:null,gap:{default:0},rtl:{type:Boolean,default:!1},ssrColumns:{default:0},scrollContainer:{default:null}},emits:["redraw","redrawSkip"],setup(l,{emit:i}){const _=l,{columnWidth:x,items:s,gap:o,rtl:p,ssrColumns:u,scrollContainer:v}=T(_),c=b([]),d=b();function k(){const e=Math.floor((d.value.getBoundingClientRect().width+o.value)/(x.value+o.value));return e>0?e:1}function C(e){return[...new Array(e)].map(()=>[])}if(u.value>0){const e=C(u.value);s.value.forEach((t,a)=>e[a%u.value].push(a)),c.value=e}async function B(e){if(e>=s.value.length)return;await j();const t=[...d.value.children];p.value&&t.reverse();const a=t.reduce((m,n)=>n.getBoundingClientRect().height<m.getBoundingClientRect().height?n:m);c.value[+a.dataset.index].push(e),await B(e+1)}async function y(e=!1){if(c.value.length===k()&&!e){i("redrawSkip");return}c.value=C(k());const t=v?.value,a=t?t.scrollTop:window.scrollY;await B(0),t?t.scrollBy({top:a-t.scrollTop}):window.scrollTo({top:a}),i("redraw")}const h=typeof ResizeObserver>"u"?void 0:new ResizeObserver(()=>y());return z(()=>{y(),h?.observe(d.value)}),F(()=>h?.unobserve(d.value)),$([s,p],()=>y(!0)),$([x,o],()=>y()),(e,t)=>(r(),f("div",{ref_key:"wall",ref:d,class:"masonry-wall",style:g({display:"flex",gap:`${w(o)}px`})},[(r(!0),f(M,null,W(c.value,(a,m)=>(r(),f("div",{key:m,class:"masonry-column","data-index":m,style:g({display:"flex","flex-basis":"0px","flex-direction":"column","flex-grow":1,height:["-webkit-max-content","-moz-max-content","max-content"],gap:`${w(o)}px`})},[(r(!0),f(M,null,W(a,n=>(r(),f("div",{key:n,class:"masonry-item"},[V(e.$slots,"default",{item:w(s)[n],index:n},()=>[E(S(w(s)[n]),1)])]))),128))],12,D))),128))],4))}}),q=(()=>{const l=Y;return l.install=i=>{i.component("MasonryWall",l)},l})(),G=R({components:{MasonryWall:q},data(){return{items:[50,75,75,100,50,50,75,150,125,175,50,100,125]}}});function H(l,i,_,x,s,o){const p=O("MasonryWall");return r(),L(p,{items:l.items,"ssr-columns":1,"column-width":100,gap:16},{default:N(({item:u,index:v})=>[U("div",{style:g({height:`${u}px`}),class:"card flex items-center justify-center"},S(v),5)]),_:1},8,["items"])}const K=A(G,[["render",H]]);export{K as default};
