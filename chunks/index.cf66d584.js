import{_ as h,N as x,$ as E}from"./LeafletMap.lazy.34d61597.js";import{h as L,p as w,G as c,t as p,a as S,n as u,g as f,q as g,z as O,c as H,e as M,i as B,m as G,k as R,s as T,x as z,v as F,w as J,A as W}from"./TileLayer.189ccb46.js";import{M as Me,T as Ge}from"./TileLayer.189ccb46.js";import{h as m,_ as Z,p as v,T as P,F as _,A as k}from"./hooks.module.5832f08c.js";import"./preload-helper.1de719f8.js";import"./preact.module.49fe28cd.js";import"./jsxRuntime.module.380e1cae.js";function N(){return L().map}function re(a,n){const e=N();return m(function(){return e.on(a,n),function(){e.off(a,n)}},[e,a,n]),e}function le(a){const n=N();return m(function(){return n.on(a),function(){n.off(a)}},[n,a]),n}const ce=w(function(n){return new c.exports.Control.Attribution(n)}),ie=p(function({center:n,children:e,...t},o){const r=new c.exports.Circle(n,t);return u(r,f(o,{overlayContainer:r}))},S),ue=p(function({center:n,children:e,...t},o){const r=new c.exports.CircleMarker(n,t);return u(r,f(o,{overlayContainer:r}))},S),se=p(function({children:n,...e},t){const o=new c.exports.FeatureGroup([],e);return u(o,f(t,{layerContainer:o,overlayContainer:o}))}),fe=p(function({data:n,...e},t){const o=new c.exports.GeoJSON(n,e);return u(o,f(t,{overlayContainer:o}))},function(n,e,t){e.style!==t.style&&(e.style==null?n.resetStyle():n.setStyle(e.style))}),de=g(function({bounds:n,url:e,...t},o){const r=new c.exports.ImageOverlay(e,n,t);return u(r,f(o,{overlayContainer:r}))},function(n,e,t){if(O(n,e,t),e.bounds!==e.bounds){const o=e.bounds instanceof c.exports.LatLngBounds?e.bounds:new c.exports.LatLngBounds(e.bounds);n.setBounds(o)}e.url!==t.url&&n.setUrl(e.url)}),ye=g(function({children:n,...e},t){const o=new c.exports.LayerGroup([],e);return u(o,f(t,{layerContainer:o}))}),j=G(function({children:n,...e},t){const o=new c.exports.Control.Layers(void 0,void 0,e);return u(o,f(t,{layersControl:o}))},function(n,e,t){e.collapsed!==t.collapsed&&(e.collapsed===!0?n.collapse():n.expand())}),U=B(j),I=H(U);function V(a){return function(e){const t=L(),o=Z(e),[r,l]=v(null),{layersControl:i,map:s}=t,d=P(C=>{i!=null&&(o.current.checked&&s.addLayer(C),a(i,C,o.current.name),l(C))},[i,s]),y=P(C=>{i?.removeLayer(C),l(null)},[i]),A=_(()=>f(t,{layerContainer:{addLayer:d,removeLayer:y}}),[t,d,y]);return m(()=>{r!==null&&o.current!==e&&(e.checked===!0&&(o.current.checked==null||o.current.checked===!1)?s.addLayer(r):o.current.checked===!0&&(e.checked==null||e.checked===!1)&&s.removeLayer(r),o.current=e)}),e.children?h.createElement(M,{value:A},e.children):null}}I.BaseLayer=V(function(n,e,t){n.addBaseLayer(e,t)});I.Overlay=V(function(n,e,t){n.addOverlay(e,t)});const pe=g(function({position:n,...e},t){const o=new c.exports.Marker(n,e);return u(o,f(t,{overlayContainer:o}))},function(n,e,t){e.position!==t.position&&n.setLatLng(e.position),e.icon!=null&&e.icon!==t.icon&&n.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==t.zIndexOffset&&n.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==t.opacity&&n.setOpacity(e.opacity),n.dragging!=null&&e.draggable!==t.draggable&&(e.draggable===!0?n.dragging.enable():n.dragging.disable())}),$=["mapPane","markerPane","overlayPane","popupPane","shadowPane","tilePane","tooltipPane"];function b(a,n){const{[n]:e,...t}=a;return t}function q(a,n,e){if($.indexOf(a)!==-1)throw new Error(`You must use a unique name for a pane that is not a default Leaflet pane: ${a}`);if(e.map.getPane(a)!=null)throw new Error(`A pane with this name already exists: ${a}`);const t=n.pane??e.pane,o=t?e.map.getPane(t):void 0,r=e.map.createPane(a,o);return n.className!=null&&R(r,n.className),n.style!=null&&Object.keys(n.style).forEach(l=>{r.style[l]=n.style[l]}),r}function D(a,n){const[e]=v(a.name),[t,o]=v(null);k(n,()=>t,[t]);const r=L(),l=_(()=>({...r,pane:e}),[r]);return m(()=>(o(q(e,a,r)),function(){r.map.getPane(e)?.remove?.(),r.map._panes!=null&&(r.map._panes=b(r.map._panes,e),r.map._paneRenderers=b(r.map._paneRenderers,e))}),[]),a.children!=null&&t!=null?E(h.createElement(M,{value:l},a.children),t):null}const me=x(D),Ce=p(function({positions:n,...e},t){const o=new c.exports.Polygon(n,e);return u(o,f(t,{overlayContainer:o}))},function(n,e,t){e.positions!==t.positions&&n.setLatLngs(e.positions)}),ge=p(function({positions:n,...e},t){const o=new c.exports.Polyline(n,e);return u(o,f(t,{overlayContainer:o}))},function(n,e,t){e.positions!==t.positions&&n.setLatLngs(e.positions)}),ve=T(function(n,e){const t=new c.exports.Popup(n,e.overlayContainer);return u(t,e)},function(n,e,{position:t},o){m(function(){const{instance:l}=n;function i(d){d.popup===l&&(l.update(),o(!0))}function s(d){d.popup===l&&o(!1)}return e.map.on({popupopen:i,popupclose:s}),e.overlayContainer==null?(t!=null&&l.setLatLng(t),l.openOn(e.map)):e.overlayContainer.bindPopup(l),function(){e.map.off({popupopen:i,popupclose:s}),e.overlayContainer?.unbindPopup(),e.map.removeLayer(l)}},[n,e,o,t])}),Le=p(function({bounds:n,...e},t){const o=new c.exports.Rectangle(n,e);return u(o,f(t,{overlayContainer:o}))},function(n,e,t){e.bounds!==t.bounds&&n.setBounds(e.bounds)}),we=w(function(n){return new c.exports.Control.Scale(n)}),Y=G(function(n,e){const{attributes:t,bounds:o,...r}=n,l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttribute("xmlns","http://www.w3.org/2000/svg"),t!=null&&Object.keys(t).forEach(s=>{l.setAttribute(s,t[s])});const i=new c.exports.SVGOverlay(l,o,r);return u(i,e,l)},O),K=z(Y);function Q({children:a,...n},e){const{instance:t,container:o}=K(n).current;return k(e,()=>t),o==null||a==null?null:E(a,o)}const Oe=x(Q),Pe=T(function(n,e){const t=new c.exports.Tooltip(n,e.overlayContainer);return u(t,e)},function(n,e,{position:t},o){m(function(){const l=e.overlayContainer;if(l==null)return;const{instance:i}=n,s=y=>{y.tooltip===i&&(t!=null&&i.setLatLng(t),i.update(),o(!0))},d=y=>{y.tooltip===i&&o(!1)};return l.on({tooltipopen:s,tooltipclose:d}),l.bindTooltip(i),function(){l.off({tooltipopen:s,tooltipclose:d}),l._map!=null&&l.unbindTooltip()}},[n,e,o,t])}),be=g(function({bounds:n,url:e,...t},o){const r=new c.exports.VideoOverlay(e,n,t);return t.play===!0&&r.getElement()?.play(),u(r,f(o,{overlayContainer:r}))},function(n,e,t){O(n,e,t),typeof e.url=="string"&&e.url!==t.url&&n.setUrl(e.url);const o=n.getElement();o!=null&&(e.play===!0&&!t.play?o.play():!e.play&&t.play===!0&&o.pause())}),he=F(function({eventHandlers:n,params:e={},url:t,...o},r){const l=new c.exports.TileLayer.WMS(t,{...e,...W(o,r)});return u(l,r)},function(n,e,t){J(n,e,t),e.params!=null&&e.params!==t.params&&n.setParams(e.params)}),xe=w(function(n){return new c.exports.Control.Zoom(n)});export{ce as AttributionControl,ie as Circle,ue as CircleMarker,se as FeatureGroup,fe as GeoJSON,de as ImageOverlay,ye as LayerGroup,I as LayersControl,Me as MapContainer,pe as Marker,me as Pane,Ce as Polygon,ge as Polyline,ve as Popup,Le as Rectangle,Oe as SVGOverlay,we as ScaleControl,Ge as TileLayer,Pe as Tooltip,be as VideoOverlay,he as WMSTileLayer,xe as ZoomControl,N as useMap,re as useMapEvent,le as useMapEvents};
