import{a as x,R as E,V as S}from"./LeafletMap.lazy.7c9dce2d.js";import{h as L,p as w,G as c,t as p,a as b,n as u,g as f,q as v,z as O,c as A,e as M,i as H,m as G,k as z,s as T,x as F,v as J,w as B,A as W}from"./TileLayer.575d6783.js";import{M as Se,T as be}from"./TileLayer.575d6783.js";import{h as m,_ as Z,p as g,T as P,F as k,A as _}from"./jsxRuntime.module.818338c8.js";import"./preact.module.b8ec28b5.js";function N(){return L().map}function oe(a,n){const e=N();return m(function(){return e.on(a,n),function(){e.off(a,n)}},[e,a,n]),e}function ae(a){const n=N();return m(function(){return n.on(a),function(){n.off(a)}},[n,a]),n}const re=w(function(n){return new c.exports.Control.Attribution(n)}),le=p(function({center:n,children:e,...t},o){const r=new c.exports.Circle(n,t);return u(r,f(o,{overlayContainer:r}))},b),ce=p(function({center:n,children:e,...t},o){const r=new c.exports.CircleMarker(n,t);return u(r,f(o,{overlayContainer:r}))},b),ie=p(function({children:n,...e},t){const o=new c.exports.FeatureGroup([],e);return u(o,f(t,{layerContainer:o,overlayContainer:o}))}),ue=p(function({data:n,...e},t){const o=new c.exports.GeoJSON(n,e);return u(o,f(t,{overlayContainer:o}))},function(n,e,t){e.style!==t.style&&(e.style==null?n.resetStyle():n.setStyle(e.style))}),se=v(function({bounds:n,url:e,...t},o){const r=new c.exports.ImageOverlay(e,n,t);return u(r,f(o,{overlayContainer:r}))},function(n,e,t){O(n,e,t),e.url!==t.url&&n.setUrl(e.url)}),fe=v(function({children:n,...e},t){const o=new c.exports.LayerGroup([],e);return u(o,f(t,{layerContainer:o}))}),j=G(function({children:n,...e},t){const o=new c.exports.Control.Layers(void 0,void 0,e);return u(o,f(t,{layersControl:o}))},function(n,e,t){e.collapsed!==t.collapsed&&(e.collapsed===!0?n.collapse():n.expand())}),U=H(j),V=A(U);function I(a){return function(e){const t=L(),o=Z(e),[r,l]=g(null),{layersControl:i,map:s}=t,y=P(C=>{i!=null&&(o.current.checked&&s.addLayer(C),a(i,C,o.current.name),l(C))},[i,s]),d=P(C=>{i?.removeLayer(C),l(null)},[i]),R=k(()=>f(t,{layerContainer:{addLayer:y,removeLayer:d}}),[t,y,d]);return m(()=>{r!==null&&o.current!==e&&(e.checked===!0&&(o.current.checked==null||o.current.checked===!1)?s.addLayer(r):o.current.checked===!0&&(e.checked==null||e.checked===!1)&&s.removeLayer(r),o.current=e)}),e.children?x.createElement(M,{value:R},e.children):null}}V.BaseLayer=I(function(n,e,t){n.addBaseLayer(e,t)});V.Overlay=I(function(n,e,t){n.addOverlay(e,t)});const ye=v(function({position:n,...e},t){const o=new c.exports.Marker(n,e);return u(o,f(t,{overlayContainer:o}))},function(n,e,t){e.position!==t.position&&n.setLatLng(e.position),e.icon!=null&&e.icon!==t.icon&&n.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==t.zIndexOffset&&n.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==t.opacity&&n.setOpacity(e.opacity),n.dragging!=null&&e.draggable!==t.draggable&&(e.draggable===!0?n.dragging.enable():n.dragging.disable())}),q=["mapPane","markerPane","overlayPane","popupPane","shadowPane","tilePane","tooltipPane"];function h(a,n){const{[n]:e,...t}=a;return t}function $(a,n,e){if(q.indexOf(a)!==-1)throw new Error(`You must use a unique name for a pane that is not a default Leaflet pane: ${a}`);if(e.map.getPane(a)!=null)throw new Error(`A pane with this name already exists: ${a}`);const t=n.pane??e.pane,o=t?e.map.getPane(t):void 0,r=e.map.createPane(a,o);return n.className!=null&&z(r,n.className),n.style!=null&&Object.keys(n.style).forEach(l=>{r.style[l]=n.style[l]}),r}function D(a,n){const[e]=g(a.name),[t,o]=g(null);_(n,()=>t,[t]);const r=L(),l=k(()=>({...r,pane:e}),[r]);return m(()=>(o($(e,a,r)),function(){r.map.getPane(e)?.remove?.(),r.map._panes!=null&&(r.map._panes=h(r.map._panes,e),r.map._paneRenderers=h(r.map._paneRenderers,e))}),[]),a.children!=null&&t!=null?S(x.createElement(M,{value:l},a.children),t):null}const de=E(D),pe=p(function({positions:n,...e},t){const o=new c.exports.Polygon(n,e);return u(o,f(t,{overlayContainer:o}))},function(n,e,t){e.positions!==t.positions&&n.setLatLngs(e.positions)}),me=p(function({positions:n,...e},t){const o=new c.exports.Polyline(n,e);return u(o,f(t,{overlayContainer:o}))},function(n,e,t){e.positions!==t.positions&&n.setLatLngs(e.positions)}),Ce=T(function(n,e){const t=new c.exports.Popup(n,e.overlayContainer);return u(t,e)},function(n,e,{position:t},o){m(function(){const{instance:l}=n;function i(y){y.popup===l&&(l.update(),o(!0))}function s(y){y.popup===l&&o(!1)}return e.map.on({popupopen:i,popupclose:s}),e.overlayContainer==null?(t!=null&&l.setLatLng(t),l.openOn(e.map)):e.overlayContainer.bindPopup(l),function(){e.map.off({popupopen:i,popupclose:s}),e.overlayContainer?.unbindPopup(),e.map.removeLayer(l)}},[n,e,o,t])}),ve=p(function({bounds:n,...e},t){const o=new c.exports.Rectangle(n,e);return u(o,f(t,{overlayContainer:o}))},function(n,e,t){e.bounds!==t.bounds&&n.setBounds(e.bounds)}),ge=w(function(n){return new c.exports.Control.Scale(n)}),Y=G(function(n,e){const{attributes:t,bounds:o,...r}=n,l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttribute("xmlns","http://www.w3.org/2000/svg"),t!=null&&Object.keys(t).forEach(s=>{l.setAttribute(s,t[s])});const i=new c.exports.SVGOverlay(l,o,r);return u(i,e,l)},O),K=F(Y);function Q({children:a,...n},e){const{instance:t,container:o}=K(n).current;return _(e,()=>t),o==null||a==null?null:S(a,o)}const Le=E(Q),we=T(function(n,e){const t=new c.exports.Tooltip(n,e.overlayContainer);return u(t,e)},function(n,e,{position:t},o){m(function(){const l=e.overlayContainer;if(l==null)return;const{instance:i}=n,s=d=>{d.tooltip===i&&(t!=null&&i.setLatLng(t),i.update(),o(!0))},y=d=>{d.tooltip===i&&o(!1)};return l.on({tooltipopen:s,tooltipclose:y}),l.bindTooltip(i),function(){l.off({tooltipopen:s,tooltipclose:y}),l._map!=null&&l.unbindTooltip()}},[n,e,o,t])}),Oe=v(function({bounds:n,url:e,...t},o){const r=new c.exports.VideoOverlay(e,n,t);return t.play===!0&&r.getElement()?.play(),u(r,f(o,{overlayContainer:r}))},function(n,e,t){O(n,e,t),typeof e.url=="string"&&e.url!==t.url&&n.setUrl(e.url);const o=n.getElement();o!=null&&(e.play===!0&&!t.play?o.play():!e.play&&t.play===!0&&o.pause())}),Pe=J(function({params:n={},url:e,...t},o){const r=new c.exports.TileLayer.WMS(e,{...n,...W(t,o)});return u(r,o)},function(n,e,t){B(n,e,t),e.params!=null&&e.params!==t.params&&n.setParams(e.params)}),he=w(function(n){return new c.exports.Control.Zoom(n)});export{re as AttributionControl,le as Circle,ce as CircleMarker,ie as FeatureGroup,ue as GeoJSON,se as ImageOverlay,fe as LayerGroup,V as LayersControl,Se as MapContainer,ye as Marker,de as Pane,pe as Polygon,me as Polyline,Ce as Popup,ve as Rectangle,Le as SVGOverlay,ge as ScaleControl,be as TileLayer,we as Tooltip,Oe as VideoOverlay,Pe as WMSTileLayer,he as ZoomControl,N as useMap,oe as useMapEvent,ae as useMapEvents};
