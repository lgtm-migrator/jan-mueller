<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>Masonry layout for Vue 2 and Vue 3</title><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="/logo.svg" type="image/svg+xml"><link rel="apple-touch-icon" href="/pwa-192x192.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#007AFE"><meta name="msapplication-TileColor" content="#007AFE"><meta name="theme-color" content="#111"><script>!function(){var e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("vueuse-color-scheme")||"auto";("dark"===t||e&&"light"!==t)&&document.documentElement.classList.toggle("dark",!0)}()</script><script type="module" async="" crossorigin="" src="/assets/app.ae67bad1.js"></script><style>#pattern[data-v-395e8237]:after,#pattern[data-v-395e8237]:before{position:fixed;top:0;height:100lvh;height:120vh;width:100vw;content:""}#pattern[data-v-395e8237]:after{background-image:radial-gradient(gray 1px,transparent 0);-webkit-mask:radial-gradient(circle at 50% 50%,transparent,#fff 200%);mask:radial-gradient(circle at 50% 50%,transparent,#fff 200%);background-size:3rem 3rem;z-index:-10}#pattern[data-v-395e8237]:before{background-image:linear-gradient(45deg,rgba(204,0,187,.25) 0,rgba(201,32,184,0) 50%),linear-gradient(135deg,rgba(0,70,209,0) 50%,rgba(0,70,209,.25) 100%);background-repeat:no-repeat;background-position:center;z-index:-9}:where(html){line-height:1.15}:where(h1){font-size:2em;margin-block-end:.67em;margin-block-start:.67em}:where(pre){font-family:monospace,monospace;font-size:1em}:where(code,kbd,samp){font-family:monospace,monospace;font-size:1em}:where(button,input,select){margin:0}:where(button){text-transform:none}:where(button,input:is([type=button i],[type=reset i],[type=submit i])){-webkit-appearance:button}:where(button,input:is([type=button i],[type=color i],[type=reset i],[type=submit i]))::-moz-focus-inner{border-style:none;padding:0}:where(button,input:is([type=button i],[type=color i],[type=reset i],[type=submit i]))::-moz-focusring{outline:1px dotted ButtonText}*,::after,::before{--un-rotate:0;--un-rotate-x:0;--un-rotate-y:0;--un-rotate-z:0;--un-scale-x:1;--un-scale-y:1;--un-scale-z:1;--un-skew-x:0;--un-skew-y:0;--un-translate-x:0;--un-translate-y:0;--un-translate-z:0;--un-scroll-snap-strictness:proximity;--un-border-spacing-x:0;--un-border-spacing-y:0;--un-ring-offset-shadow:0 0 rgba(0,0,0,0);--un-ring-shadow:0 0 rgba(0,0,0,0);--un-shadow:0 0 rgba(0,0,0,0);--un-ring-offset-width:0px;--un-ring-offset-color:#fff;--un-ring-width:0px;--un-ring-color:rgba(147,197,253,0.5)}.container{max-width:100%}.icon-btn>*{margin-top:auto;margin-bottom:auto}.icon-btn{display:inline-flex;cursor:pointer;justify-content:center;grid-gap:.5rem;gap:.5rem;border-radius:.25rem;padding-left:.5rem;padding-right:.5rem;padding-top:.25rem;padding-bottom:.25rem;line-height:30px;--un-text-opacity:1;color:rgba(0,0,0,var(--un-text-opacity));text-decoration:none!important;opacity:.5}.prose{font-weight:400;line-height:1.75rem;opacity:.95}.text-lighter{font-weight:400;opacity:.7}.text-primary{--un-text-opacity:1;color:rgba(0,0,0,var(--un-text-opacity))}.icon-btn:hover{opacity:.8}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}@media (min-width:1536px){.container{max-width:1536px}}.m-auto{margin:auto}.mx-2{margin-left:.5rem;margin-right:.5rem}.my-6{margin-top:1.5rem;margin-bottom:1.5rem}.max-w-85ch{max-width:85ch}.pa-4{padding:1rem}.text-center{text-align:center}.font-sans{font-family:Montserrat,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}@media (min-width:1024px){.lg-text-base{font-size:1rem;line-height:1.5rem}}:root{--prism-scheme:light;--prism-foreground:#6e6e6e;--prism-background:#f4f4f4;--prism-comment:#a8a8a8;--prism-string:#555555;--prism-literal:#333333;--prism-keyword:#000000;--prism-function:#4f4f4f;--prism-deleted:#333333;--prism-class:#333333;--prism-builtin:#757575;--prism-property:#333333;--prism-namespace:#4f4f4f;--prism-punctuation:#ababab;--prism-decorator:var(--prism-class);--prism-operator:var(--prism-punctuation);--prism-number:var(--prism-literal);--prism-boolean:var(--prism-literal);--prism-variable:var(--prism-literal);--prism-constant:var(--prism-literal);--prism-symbol:var(--prism-literal);--prism-interpolation:var(--prism-literal);--prism-selector:var(--prism-keyword);--prism-keyword-control:var(--prism-keyword);--prism-regex:var(--prism-string);--prism-json-property:var(--prism-property);--prism-inline-background:var(--prism-background);--prism-comment-style:italic;--prism-url-decoration:underline;--prism-line-number:#a5a5a5;--prism-line-number-gutter:#333333;--prism-line-highlight-background:#eeeeee;--prism-selection-background:#dddddd;--prism-marker-color:var(--prism-foreground);--prism-marker-opacity:.4;--prism-marker-font-size:.8em;--prism-font-size:1em;--prism-line-height:1.5em;--prism-font-family:monospace;--prism-inline-font-size:var(--prism-font-size);--prism-block-font-size:var(--prism-font-size);--prism-tab-size:2;--prism-block-padding-x:1em;--prism-block-padding-y:1em;--prism-block-margin-x:0;--prism-block-margin-y:.5em;--prism-block-radius:.3em;--prism-inline-padding-x:.3em;--prism-inline-padding-y:.1em;--prism-inline-radius:.3em}code[class*=language-],pre[class*=language-]{font-size:var(--prism-font-size);font-family:var(--prism-font-family);direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:var(--prism-line-height);-moz-tab-size:var(--prism-tab-size);-o-tab-size:var(--prism-tab-size);tab-size:var(--prism-tab-size);-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;color:var(--prism-foreground)!important}pre[class*=language-]{font-size:var(--prism-block-font-size);padding:var(--prism-block-padding-y) var(--prism-block-padding-x);margin:var(--prism-block-margin-y) var(--prism-block-margin-x);border-radius:var(--prism-block-radius);overflow:auto;background:var(--prism-background)}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{background:var(--prism-selection-background)}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:var(--prism-selection-background)}.token.comment{color:var(--prism-comment);font-style:var(--prism-comment-style)}.token.string{color:var(--prism-string)}.token.punctuation{color:var(--prism-punctuation)}.token.operator{color:var(--prism-operator)}.token.keyword{color:var(--prism-keyword)}.token.function{color:var(--prism-function)}.prose{--prism-font-family:"Input Mono",monospace}html:not(.dark) .prose{--prism-foreground:#393a34;--prism-background:#fbfbfb;--prism-comment:#a0ada0;--prism-string:#b56959;--prism-literal:#2f8a89;--prism-number:#296aa3;--prism-keyword:#1c6b48;--prism-function:#6c7834;--prism-boolean:#1c6b48;--prism-constant:#a65e2b;--prism-deleted:#a14f55;--prism-class:#2993a3;--prism-builtin:#ab5959;--prism-property:#b58451;--prism-namespace:#b05a78;--prism-punctuation:#8e8f8b;--prism-decorator:#bd8f8f;--prism-regex:#ab5e3f;--prism-json-property:#698c96}#app,body,html{height:100%;margin:0;padding:0;overflow-x:hidden}button{background:0 0;border:none;font-size:1.25rem}:root{--primary:#007afe;--c-link:var(--primary);--anim-slow:.5s;--anim-medium:.2s}a{color:var(--c-link);transition:opacity .2s ease}a:hover{opacity:80%}</style><link rel="preload" href="/assets/index.420bf921.css" as="style"><link rel="manifest" href="/manifest.webmanifest"><link rel="modulepreload" crossorigin="" href="/assets/vue-masonry-wall.ea67dc9b.js"><link rel="canonical" href="https://jan-mueller.at/blog/vue-masonry-wall"><meta property="twitter:description" content="Personal website of Jan Müller, a passionate software engineer."><meta property="twitter:image" content="https://jan-mueller.at/og-logo.png"><meta property="og:image" content="https://jan-mueller.at/og-logo.png"><meta property="og:title" content="Masonry layout for Vue 2 and Vue 3"><meta property="og:description" content="Responsive masonry layout with SSR support and zero dependencies for Vue 2 and Vue 3."><meta name="description" content="Responsive masonry layout with SSR support and zero dependencies for Vue 2 and Vue 3."><meta name="head:count" content="7"><link rel="preload" as="font" crossorigin="anonymous" href="https://fonts.gstatic.com/s/montserrat/v25/JTUHjIg1_i6t8kCHKm4532VJOt5-QNFgpCtr6Ew-.ttf"><link rel="preload" as="font" crossorigin="anonymous" href="https://fonts.gstatic.com/s/montserrat/v25/JTUHjIg1_i6t8kCHKm4532VJOt5-QNFgpCtZ6Ew-.ttf"><link rel="preload" as="font" crossorigin="anonymous" href="https://fonts.gstatic.com/s/montserrat/v25/JTUHjIg1_i6t8kCHKm4532VJOt5-QNFgpCuM70w-.ttf"></head><body class="font-sans text-primary"><div id="app" data-server-rendered="true"><!--[--><div id="pattern" data-v-395e8237=""></div><!--[--><header><nav class="text-xl my-6 text-center"><a href="/" class="icon-btn mx-2" title="Home"><svg style="display:inline-block;vertical-align:middle" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32" width="1.2em" height="1.2em"><path fill="currentColor" d="M16.612 2.214a1.01 1.01 0 0 0-1.242 0L1 13.419l1.243 1.572L4 13.621V26a2.004 2.004 0 0 0 2 2h20a2.004 2.004 0 0 0 2-2V13.63L29.757 15L31 13.428ZM18 26h-4v-8h4Zm2 0v-8a2.002 2.002 0 0 0-2-2h-4a2.002 2.002 0 0 0-2 2v8H6V12.062l10-7.79l10 7.8V26Z"></path></svg></a><a href="/blog" class="icon-btn mx-2" title="Blog"><svg style="display:inline-block;vertical-align:middle" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32" width="1.2em" height="1.2em"><path fill="currentColor" d="M4 24h10v2H4zm0-6h10v2H4zm22-4H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h20a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2zM6 6v6h20V6zm20 22h-6a2 2 0 0 1-2-2v-6a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2zm-6-8v6h6v-6z"></path></svg></a><a href="/files" class="icon-btn mx-2" title="Files"><svg style="display:inline-block;vertical-align:middle" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32" width="1.2em" height="1.2em"><path fill="currentColor" d="m25.7 9.3l-7-7c-.2-.2-.4-.3-.7-.3H8c-1.1 0-2 .9-2 2v24c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V10c0-.3-.1-.5-.3-.7zM18 4.4l5.6 5.6H18V4.4zM24 28H8V4h8v6c0 1.1.9 2 2 2h6v16z"></path><path fill="currentColor" d="M10 22h12v2H10zm0-6h12v2H10z"></path></svg></a><button class="icon-btn mx-2" title="Toggle dark mode"><svg style="display:inline-block;vertical-align:middle" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32" width="1.2em" height="1.2em"><path fill="currentColor" d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6ZM5.394 6.813L6.81 5.399l3.505 3.506L8.9 10.319zM2 15.005h5v2H2zm3.394 10.193L8.9 21.692l1.414 1.414l-3.505 3.506zM15 25.005h2v5h-2zm6.687-1.9l1.414-1.414l3.506 3.506l-1.414 1.414zm3.313-8.1h5v2h-5zm-3.313-6.101l3.506-3.506l1.414 1.414l-3.506 3.506zM15 2.005h2v5h-2z"></path></svg></button><a class="icon-btn mx-2" href="https://github.com/DerYeger" rel="noopener" target="_blank" title="GitHub"><svg style="display:inline-block;vertical-align:middle" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32" width="1.2em" height="1.2em"><path fill="currentColor" fill-rule="evenodd" d="M16 2a14 14 0 0 0-4.43 27.28c.7.13 1-.3 1-.67v-2.38c-3.89.84-4.71-1.88-4.71-1.88a3.71 3.71 0 0 0-1.62-2.05c-1.27-.86.1-.85.1-.85a2.94 2.94 0 0 1 2.14 1.45a3 3 0 0 0 4.08 1.16a2.93 2.93 0 0 1 .88-1.87c-3.1-.36-6.37-1.56-6.37-6.92a5.4 5.4 0 0 1 1.44-3.76a5 5 0 0 1 .14-3.7s1.17-.38 3.85 1.43a13.3 13.3 0 0 1 7 0c2.67-1.81 3.84-1.43 3.84-1.43a5 5 0 0 1 .14 3.7a5.4 5.4 0 0 1 1.44 3.76c0 5.38-3.27 6.56-6.39 6.91a3.33 3.33 0 0 1 .95 2.59v3.84c0 .46.25.81 1 .67A14 14 0 0 0 16 2Z"></path></svg></a><a class="icon-btn mx-2" href="https://www.xing.com/profile/Jan_Mueller1092/cv" rel="noopener" target="_blank" title="XING"><svg style="display:inline-block;vertical-align:middle" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32" width="1.2em" height="1.2em"><path fill="currentColor" d="M11.42 8.29a1.25 1.25 0 0 0-1.13-.76h-4a.65.65 0 0 0-.55.25a.63.63 0 0 0 0 .62l2.73 4.73l-4.3 7.59a.6.6 0 0 0 0 .62a.58.58 0 0 0 .52.28h4a1.22 1.22 0 0 0 1.1-.78l4.36-7.71l-2.73-4.84Zm16.41-5.41a.65.65 0 0 0 0-.62a.61.61 0 0 0-.53-.26h-4.08a1.19 1.19 0 0 0-1.08.77s-8.7 15.43-9 15.93l5.74 10.53A1.26 1.26 0 0 0 20 30h4a.59.59 0 0 0 .54-.26a.62.62 0 0 0 0-.62l-5.69-10.4Z"></path></svg></a></nav></header><main class="pa-4 container m-auto max-w-85ch text-sm lg-text-base"><!--[--><div class="prose children:text-start"><h1>Masonry layout for Vue 2 and Vue 3</h1><blockquote><p>Responsive masonry layout with SSR support and zero dependencies for Vue 2 and Vue 3.</p></blockquote><h2>Introduction</h2><p>In quite a few of my Vue 2 projects I’m using the library <a href="https://github.com/fuxingloh/vue-masonry-wall" target="_blank" rel="noopener">vue-masonry-wall</a>. Its ease-of-use and SSR support were key factors in my decision to use this library in particular.</p><p>However, I’m currently in the progress of preparing my projects for the release of Nuxt 3 and the accompanying migration to Vue 3. Since I couldn’t find a comparable masonry layout for Vue 3, I chose to create a new library based on <a href="https://github.com/fuxingloh" target="_blank" rel="noopener">Fuxing Loh’s</a> <code class="">vue-masonry-wall</code>.</p><p>The result is <a href="https://github.com/DerYeger/vue-masonry-wall" target="_blank" rel="noopener">@yeger/vue-masonry-wall</a>, a rewrite of the original library in TypeScript and Vue 3. It has no dependencies, resulting in a bundle size decrease of up to 54%.</p><p>I also created <a href="https://github.com/DerYeger/vue2-masonry-wall" target="_blank" rel="noopener">@yeger/vue2-masonry-wall</a> for use in Vue 2 projects. It, too, drops any dependencies, achieving a bundle size decrease of up to 40%</p><p>In addition, multiple issues have been fixed. Notably, spacing (<code class="">gap</code>) is now considered while calculating the column count, and the removal of elements is now supported.</p><h2>Installation</h2><h3>Vue 2</h3><pre class="language-bash"><code class="language-bash"><span class="token comment"># yarn</span>
$ <span class="token function">yarn</span> <span class="token function">add</span> @yeger/vue2-masonry-wall

<span class="token comment"># npm</span>
$ <span class="token function">npm</span> <span class="token function">install</span> @yeger/vue2-masonry-wall
</code></pre><p>First, you have to install the component like any other plugin. Consult the <a href="https://vuejs.org/v2/guide/plugins.html#Using-a-Plugin" target="_blank" rel="noopener">Vue 2 documentation</a> for detailed information on installing plugins.</p><pre class="language-ts"><code class="language-ts"><span class="token keyword">import</span> MasonryWall <span class="token keyword">from</span> <span class="token string">'@yeger/vue2-masonry-wall'</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>MasonryWall<span class="token punctuation">)</span>
</code></pre><h3>Vue 3</h3><pre class="language-bash"><code class="language-bash"><span class="token comment"># yarn</span>
$ <span class="token function">yarn</span> <span class="token function">add</span> @yeger/vue-masonry-wall

<span class="token comment"># npm</span>
$ <span class="token function">npm</span> <span class="token function">install</span> @yeger/vue-masonry-wall
</code></pre><p>First, you have to install the component like any other plugin. Consult the <a href="https://v3.vuejs.org/guide/plugins.html#using-a-plugin" target="_blank" rel="noopener">Vue 3 documentation</a> for detailed information on installing plugins.</p><pre class="language-ts"><code class="language-ts"><span class="token keyword">import</span> MasonryWall <span class="token keyword">from</span> <span class="token string">'@yeger/vue-masonry-wall'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>MasonryWall<span class="token punctuation">)</span>
</code></pre><h2>Usage</h2><p>The component is available as <code class="">masonry-wall</code> or <code class="">MasonryWall</code>. The only required prop is <code class="">items</code>, an array of type <code class="">any</code>. Each element of <code class="">items</code> is passed to the default slot, alongside its index. The prop <code class="">column-width</code> takes in a <code class="">number</code>, specifying the targeted column width. It is used to calculate the column count but does not define the actual width of columns. Similarly, <code class="">gap</code> defines the gaps between items in pixels and is respected while calculating the column count. Lastly, the prop <code class="">ssr-columns</code> can be used to specify the column count in server-side-rendering contexts.</p><p>While every prop of the component is reactive, mutations to the <code class="">items</code> array will not update the layout. To force updates, assign a new array to the <code class="">items</code> prop.</p><h3>Example</h3><p>The following example demonstrates basic usage of the component. For interactive demonstrations, visit <a href="https://vue-masonry-wall.yeger.eu/" target="_blank" rel="noopener">vue-masonry-wall.yeger.eu</a> or <a href="https://vue2-masonry-wall.yeger.eu/" target="_blank" rel="noopener">vue2-masonry-wall.yeger.eu</a>.</p><pre class="language-vue"><code class="language-vue">&lt;script&gt;
export default {
  data() {
    return {
      items: [
        { content: 'First', height: 150 },
        { content: 'Second', height: 300 },
        { content: 'Third', height: 150 },
        { content: 'Fourth', height: 450 },
      ],
    }
  },
}
&lt;/script&gt;

&lt;template&gt;
  &lt;MasonryWall :items="items" :ssr-columns="1" :column-width="300" :gap="16"&gt;
    &lt;template #default="{ item }"&gt;
      &lt;div :style="{ height: `${item.height}px` }"&gt;
        {{ item.content }}
      &lt;/div&gt;
    &lt;/template&gt;
  &lt;/MasonryWall&gt;
&lt;/template&gt;
</code></pre></div><!--]--></main><footer class="pa-4 text-center text-sm"><span class="text-lighter">2021 - 2022 © Jan Müller</span><span style="white-space:pre" class="text-lighter"> · </span><a href="https://github.com/DerYeger/jan-mueller" rel="noopener" target="_blank">Source</a><span style="white-space:pre" class="text-lighter"> · </span><a href="/about" class="" title="About / Impressum">About / Impressum</a></footer><!--]--><!--]--></div><script>window.__INITIAL_STATE__='{"pinia":{}}'</script><link rel="stylesheet" href="/assets/index.420bf921.css"></body></html>